<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siemens "Run My Screens" graphics simulator</title>
    <link rel="stylesheet" href="CSS/main.css">
</head>
<body>
    <div id="statusIndicator" class="status-indicator">Settings Auto-Saved ✓</div>
    
    <!-- Sidebar Overlay -->
    <div id="sidebarOverlay" class="sidebar-overlay" onclick="closeSidebar()"></div>
    
    <!-- Collapsible Sidebar -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-content">
            <h3>Canvas Settings</h3>
            
            <div class="control-group">
                <label for="canvasWidth">Canvas Width:</label>
                <input type="number" id="canvasWidth" value="600" min="100" max="1000" step="1">
            </div>
            
            <div class="control-group">
                <label for="canvasHeight">Canvas Height:</label>
                <input type="number" id="canvasHeight" value="400" min="100" max="800" step="1">
            </div>
            
            <div class="control-group">
                <label for="backgroundColor">Background Color:</label>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <select id="backgroundColor" style="flex: 1; min-width: 0;">
                        <option value="#ffffff">10: White</option>
                    </select>
                    <input type="color" id="backgroundColorPicker" value="#ffffff" title="Visual color picker" style="width: 40px; height: 30px; flex-shrink: 0;">
                </div>
                <small class="help-text">Select a system color or use the color picker for custom RGB values</small>
                <details style="margin-top: 10px;">
                    <summary style="cursor: pointer; font-weight: bold;">System Color Reference</summary>
                    <div style="margin-top: 8px; font-size: 12px; line-height: 1.4;">
                        <strong>Common Colors:</strong><br>
                        1: Black, 2: Orange, 3: Dark green, 4: Light gray, 5: Dark gray<br>
                        6: Blue, 7: Red, 8: Brown, 9: Yellow, 10: White<br>
                        <strong>System UI Colors:</strong><br>
                        126: Black (focus font), 127: Light orange (focus bg), 128: Orange (focus)<br>
                        129: Light gray (bg), 130: Blue (header), 131: Black (header font)<br>
                        132: Turquoise (toggle bg), 133: Light blue (list bg)
                    </div>
                </details>
            </div>
            
            <h3>Canvas Actions</h3>
            
            <div class="control-group">
                <button onclick="updateCanvas()">Refresh Canvas</button>
                <button onclick="clearCanvas()">Clear Canvas</button>
                <button onclick="screenshotCanvasPng()">Screenshot Canvas to png</button>
            </div>
            
            <div class="control-group">
                <button onclick="downloadShapeList()">Download Shape List (.com.txt)</button>
            </div>
            
            <div class="control-group">
                <button onclick="clearSavedState(); location.reload();" style="background-color: #dc3545; margin-top: 10px;">Reset All Settings</button>
            </div>
        </div>
    </div>
    
    <!-- Sidebar Toggle Tab -->
    <div id="sidebarTab" class="sidebar-tab" onclick="toggleSidebar()">
        <span>⚙️</span>
    </div>
    
    <div class="main-layout" id="mainLayout">
        <!-- Draggable Panel 1: Canvas -->
        <div class="panel" id="canvasPanel" data-panel="canvas">
            <div class="panel-header" draggable="true">
                <span class="panel-title">Canvas</span>
                <span class="drag-handle">⋮⋮</span>
            </div>
            <div class="panel-content">
                <div class="canvas-toolbar">
                    <button id="undoBtn" onclick="undo()" title="Undo (Ctrl+Z)" disabled>↶ Undo</button>
                    <button id="redoBtn" onclick="redo()" title="Redo (Ctrl+Y)" disabled>↷ Redo</button>
                </div>
                <!-- Canvas with buttons layout -->
                <div class="canvas-with-buttons">
                    <div class="canvas-and-vertical-buttons">
                        <div class="canvas-container">
                            <canvas id="myCanvas" width="600" height="400"></canvas>
                        </div>
                        <!-- 8 buttons vertical on the right of the canvas -->
                        <div class="vertical-buttons">
                            <button onclick="VS1()" class="vscanvasbutton"></button>
                            <button onclick="VS2()" class="vscanvasbutton"></button>
                            <button onclick="VS3()" class="vscanvasbutton"></button>
                            <button onclick="VS4()" class="vscanvasbutton"></button>
                            <button onclick="VS5()" class="vscanvasbutton"></button>
                            <button onclick="VS6()" class="vscanvasbutton"></button>
                            <button onclick="VS7()" class="vscanvasbutton"></button>
                            <button onclick="VS8()" class="vscanvasbutton"></button>
                        </div>
                    </div>
                    <!-- 8 buttons horizontal under the canvas -->
                    <div class="horizontal-buttons">
                        <button onclick="HS1()" class="hscanvasbutton"></button>
                        <button onclick="HS2()" class="hscanvasbutton"></button>
                        <button onclick="HS3()" class="hscanvasbutton"></button>
                        <button onclick="HS4()" class="hscanvasbutton"></button>
                        <button onclick="HS5()" class="hscanvasbutton"></button>
                        <button onclick="HS6()" class="hscanvasbutton"></button>
                        <button onclick="HS7()" class="hscanvasbutton"></button>
                        <button onclick="HS8()" class="hscanvasbutton"></button>
                    </div>
                </div>
                <div class="graphic-logic-section">
                    <h4 class="graphic-logic-title">Graphic Logic</h4>
                    <div class="graphic-logic-container">
                        <textarea id="graphicLogicText" class="graphic-logic-textarea" placeholder="Enter graphic logic code here..." rows="6"></textarea>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Draggable Panel 2: Shape List -->
        <div class="panel" id="shapeListPanel" data-panel="shapelist">
            <div class="panel-header" draggable="true">
                <span class="panel-title">Shape List</span>
                <span class="drag-handle">⋮⋮</span>
            </div>
            <div class="panel-content">
                <div class="shapes-list-container">
                    <div class="control-group">
                        <div id="shapesList" class="shapes-list"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Draggable Panel 3: Properties -->
        <div class="panel" id="propertiesPanel" data-panel="properties">
            <div class="panel-header" draggable="true">
                <span class="panel-title">Properties</span>
                <span class="drag-handle">⋮⋮</span>
            </div>
            <div class="panel-content">
                <div class="controls-container">
                    <div class="control-group">
                        <button onclick="addShape()" style="background-color: #28a745; margin-bottom: 15px;">+ Add New Shape</button>
                    </div>
                    
                    <div class="control-group">
                        <label for="shapeType">Shape Type:</label>
                        <select id="shapeType">
                            <option value="def">DEF</option>
                            <option value="ellipse">Ellipse</option>
                            <option value="rectangle">Rectangle</option>
                            <option value="line">Line</option>
                            <option value="v_separator">V Separator</option>
                            <option value="h_separator">H Separator</option>
                        </select>
                    </div>
                    
                    <!-- DEF properties -->
                    <div class="control-group def-only">
                        <label for="defVariableName">Variable Name:</label>
                        <input type="text" id="defVariableName" value="" placeholder="Enter variable name...">
                    </div>
                    
                    <div class="control-group def-only">
                        <label for="defVariableType">Variable Type:</label>
                        <select id="defVariableType">
                            <optgroup label="REAL">
                                <option value="R">R - REAL</option>
                                <option value="R[0]">R[0] - REAL (0 decimal places)</option>
                                <option value="R[1]">R[1] - REAL (1 decimal place)</option>
                                <option value="R[2]">R[2] - REAL (2 decimal places)</option>
                                <option value="R[3]">R[3] - REAL (3 decimal places)</option>
                                <option value="R[4]">R[4] - REAL (4 decimal places)</option>
                                <option value="R[5]">R[5] - REAL (5 decimal places)</option>
                            </optgroup>
                            <optgroup label="INTEGER">
                                <option value="I">I - INTEGER (32 bits decimal signed)</option>
                                <option value="IB">IB - INTEGER (32 bits binary)</option>
                                <option value="IBD">IBD - INTEGER (32 bits binary)</option>
                                <option value="IBW">IBW - INTEGER (16 bits binary)</option>
                                <option value="IBB">IBB - INTEGER (8 bits binary)</option>
                                <option value="IDD">IDD - INTEGER (32 bits decimal signed)</option>
                                <option value="IDW">IDW - INTEGER (16 bits decimal signed)</option>
                                <option value="IDB">IDB - INTEGER (8 bits decimal signed)</option>
                                <option value="IDDU">IDDU - INTEGER (32 bits decimal unsigned)</option>
                                <option value="IDWU">IDWU - INTEGER (16 bits decimal unsigned)</option>
                                <option value="IDBU">IDBU - INTEGER (8 bits decimal unsigned)</option>
                                <option value="IH">IH - INTEGER (32 bits hexadecimal)</option>
                                <option value="IHDU">IHDU - INTEGER (32 bits hexadecimal)</option>
                                <option value="IHWU">IHWU - INTEGER (16 bits hexadecimal)</option>
                                <option value="IHBU">IHBU - INTEGER (8 bits hexadecimal)</option>
                            </optgroup>
                            <optgroup label="STRING">
                                <option value="S">S - STRING</option>
                                <option value="S[1]">S[1] - STRING (1 character)</option>
                                <option value="S[10]">S[10] - STRING (10 characters)</option>
                                <option value="S[20]">S[20] - STRING (20 characters)</option>
                                <option value="S[50]">S[50] - STRING (50 characters)</option>
                                <option value="S[100]">S[100] - STRING (100 characters)</option>
                                <option value="S[255]">S[255] - STRING (255 characters)</option>
                            </optgroup>
                            <optgroup label="OTHER">
                                <option value="C">C - CHARACTER</option>
                                <option value="B">B - BOOL</option>
                                <option value="V">V - VARIANT</option>
                            </optgroup>
                        </select>
                    </div>
                    
                    <div class="control-group def-only" id="defLimitsGroup">
                        <label for="defLimits">Limits (MIN,MAX):</label>
                        <input type="text" id="defLimits" value="" placeholder='e.g. 0,100 or "A","F"'>
                        <small class="help-text">For types I, C, R only. Use decimal values or characters like "A","F"</small>
                    </div>
                    
                    <div class="control-group def-only">
                        <label for="defDefaultValue">Default Value:</label>
                        <input type="text" id="defDefaultValue" value="" placeholder="Enter default value (optional)">
                        <small class="help-text">If empty and no toggle field defined, status is "not calculated"</small>
                    </div>
                    
                    <div class="control-group def-only">
                        <label for="defToggle">Toggle:</label>
                        <input type="text" id="defToggle" value="" placeholder='e.g. * 0,1,2,3 or * "On","Off" or * 1="On",0="Off"'>
                        <small class="help-text">List with predetermined entries. Starts with * and entries separated by commas</small>
                    </div>
                    
                    <div class="control-group def-only">
                        <label for="defTexts">Texts:</label>
                        <div class="texts-container">
                            <div class="text-field-group">
                                <label for="defLongText" class="sub-label">Long Text:</label>
                                <input type="text" id="defLongText" value="" placeholder="Text in the display line (leave empty for now)">
                            </div>
                            <div class="text-field-group">
                                <label for="defShortText" class="sub-label">Short Text (Label):</label>
                                <input type="text" id="defShortText" value="" placeholder="Name of the dialog element">
                            </div>
                            <div class="text-field-group">
                                <label for="defGraphicText" class="sub-label">Graphic Text:</label>
                                <input type="text" id="defGraphicText" value="" placeholder="Text refers to terms in graphics (keep empty for now)">
                            </div>
                            <div class="text-field-group">
                                <label for="defUnitText" class="sub-label">Unit Text:</label>
                                <input type="text" id="defUnitText" value="" placeholder='e.g. "mm", "inch"'>
                            </div>
                            <div class="text-field-group">
                                <label for="defTooltip" class="sub-label">Tooltip:</label>
                                <input type="text" id="defTooltip" value="" placeholder="Brief information for screen configuration">
                            </div>
                        </div>
                        <small class="help-text">Long text: display line text, Short text: dialog label, Graphic text: graphics terms, Unit text: measurement unit, Tooltip: brief info</small>
                    </div>

                    <div class="control-group def-only">
                        <label for="defAttributes">Attributes:</label>
                        <div class="attributes-container">
                            <div class="text-field-group">
                                <label for="defDisplayMode" class="sub-label">Display mode:</label>
                                <select id="defDisplayMode">
                                    <option value="">None</option>
                                    <option value="dt0">dt0: Standard (input/output field or toggle field) (default)</option>
                                    <option value="dt1">dt1: Progress bar with color change</option>
                                    <option value="dt2">dt2: Progress bar without color change in Operate style</option>
                                    <option value="dt4">dt4: List field</option>
                                    <option value="dt5">dt5: Password input mode (asterisk)</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defDisplayOption" class="sub-label">Display option:</label>
                                <select id="defDisplayOption">
                                    <option value="">None</option>
                                    <option value="do0">do0: From left to right (default)</option>
                                    <option value="do1">do1: From right to left</option>
                                    <option value="do2">do2: From bottom to top</option>
                                    <option value="do3">do3: From top to bottom</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defUpdateRate" class="sub-label">Update rate:</label>
                                <select id="defUpdateRate">
                                    <option value="">None</option>
                                    <option value="ur0">ur0: SlCap::standardUpdateRate() (200 ms, default)</option>
                                    <option value="ur1">ur1: 50 ms</option>
                                    <option value="ur2">ur2: 100 ms</option>
                                    <option value="ur3">ur3: 200 ms</option>
                                    <option value="ur4">ur4: 500 ms</option>
                                    <option value="ur5">ur5: 1000 ms</option>
                                    <option value="ur6">ur6: 2000 ms</option>
                                    <option value="ur7">ur7: 5000 ms</option>
                                    <option value="ur8">ur8: 10000 ms</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defToggleSymbol" class="sub-label">Toggle symbol:</label>
                                <select id="defToggleSymbol">
                                    <option value="">None</option>
                                    <option value="tg0">tg0: Toggle symbol off (default)</option>
                                    <option value="tg1">tg1: Toggle symbol on</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defInputMode" class="sub-label">Input mode:</label>
                                <select id="defInputMode">
                                    <option value="">None</option>
                                    <option value="wr0">wr0: IO field invisible, short text visible</option>
                                    <option value="wr1">wr1: Read (no focus possible for input)</option>
                                    <option value="wr2">wr2: Read and write (line appears in white) (default)</option>
                                    <option value="wr3">wr3: wr1 with focus</option>
                                    <option value="wr4">wr4: All variable elements invisible, no focus possible</option>
                                    <option value="wr5">wr5: Value saved immediately on every keystroke</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defAccessLevel" class="sub-label">Access level:</label>
                                <select id="defAccessLevel">
                                    <option value="">None (can always be written)</option>
                                    <option value="ac0">ac0: Reserved for Siemens</option>
                                    <option value="ac1">ac1: Password Machine manufacturer</option>
                                    <option value="ac2">ac2: Password Service</option>
                                    <option value="ac3">ac3: Password User</option>
                                    <option value="ac4">ac4: Keyswitch position 3 Programmer, machine setter</option>
                                    <option value="ac5">ac5: Keyswitch position 2 Qualified operator</option>
                                    <option value="ac6">ac6: Keyswitch position 1 Trained operator</option>
                                    <option value="ac7">ac7: Keyswitch position 0 Semi-skilled operator (default)</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defAlignment" class="sub-label">Alignment of short text:</label>
                                <select id="defAlignment">
                                    <option value="">None</option>
                                    <option value="al0">al0: Left-justified (default)</option>
                                    <option value="al1">al1: Right-justified</option>
                                    <option value="al2">al2: Centered</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defFontSize" class="sub-label">Font size:</label>
                                <select id="defFontSize">
                                    <option value="">None</option>
                                    <option value="fs1">fs1: Default font size (8 pt.) (default)</option>
                                    <option value="fs2">fs2: Double font size</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defLimitsCheck" class="sub-label">Limits check:</label>
                                <select id="defLimitsCheck">
                                    <option value="">None (determined by specified limits)</option>
                                    <option value="li0">li0: No check</option>
                                    <option value="li1">li1: Check with respect to min.</option>
                                    <option value="li2">li2: Check with respect to max.</option>
                                    <option value="li3">li3: Check with respect to min. and max.</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defChangeMethod" class="sub-label">Calling the CHANGE method:</label>
                                <select id="defChangeMethod">
                                    <option value="">None</option>
                                    <option value="cb0">cb0: CHANGE method triggered when screen is displayed (default)</option>
                                    <option value="cb1">cb1: CHANGE method not explicitly triggered on display</option>
                                </select>
                            </div>
                            <div class="text-field-group">
                                <label for="defEmptyInput" class="sub-label">Empty Input (EI):</label>
                                <select id="defEmptyInput">
                                    <option value="">None</option>
                                    <option value="ei0">ei0: Standard - empty inputs accepted (default)</option>
                                    <option value="ei1">ei1: Empty inputs lead to error status and undo</option>
                                </select>
                            </div>
                        </div>
                        <small class="help-text">Configure display and behavior properties (separated by commas, can appear in any order)</small>
                    </div>

                    <div class="control-group def-only">
                        <label for="defHelpDisplay">Help display file:</label>
                        <input type="text" id="defHelpDisplay" value="" placeholder="Enter PNG filename (e.g., help_image.png)">
                        <small class="help-text">Name of the PNG file that appears when cursor is positioned on this variable (leave empty if not needed)</small>
                    </div>

                    <div class="control-group def-only">
                        <label for="defSystemVariable">System or user variable:</label>
                        <input type="text" id="defSystemVariable" value="" placeholder="Enter NC/PLC system or user variable">
                        <small class="help-text">System or user data from the NC/PLC assigned to this variable (appears in double quotes)</small>
                    </div>

                    <div class="control-group def-only">
                        <label>Position of short text:</label>
                        <div class="control-row">
                            <div class="control-half">
                                <label for="defShortTextX">X Position:</label>
                                <input type="number" id="defShortTextX" value="10" min="0" max="600" step="1">
                            </div>
                            <div class="control-half">
                                <label for="defShortTextY">Y Position:</label>
                                <input type="number" id="defShortTextY" value="20" min="0" max="400" step="1">
                            </div>
                        </div>
                        <div class="control-row">
                            <div class="control-half">
                                <label for="defShortTextWidth">Short text width:</label>
                                <input type="number" id="defShortTextWidth" value="100" min="10" max="400" step="1">
                            </div>
                        </div>
                    </div>

                    <div class="control-group def-only">
                        <label>Position of input/output field:</label>
                        <div class="control-row">
                            <div class="control-half">
                                <label for="defIOFieldX">X Position:</label>
                                <input type="number" id="defIOFieldX" value="50" min="0" max="600" step="1">
                            </div>
                            <div class="control-half">
                                <label for="defIOFieldY">Y Position:</label>
                                <input type="number" id="defIOFieldY" value="40" min="0" max="400" step="1">
                            </div>
                        </div>
                        <div class="control-row">
                            <div class="control-half">
                                <label for="defIOFieldWidth">I/O field width:</label>
                                <input type="number" id="defIOFieldWidth" value="120" min="10" max="400" step="1">
                            </div>
                            <div class="control-half">
                                <label for="defIOFieldHeight">I/O field height:</label>
                                <input type="number" id="defIOFieldHeight" value="25" min="10" max="100" step="1">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Position and size properties (x,y,w,h) -->
                    <div class="control-group control-row ellipse-rectangle-only">
                        <div class="control-half">
                            <label for="positionX" id="positionXLabel">X Position:</label>
                            <input type="number" id="positionX" value="300" min="0" max="600" step="1">
                        </div>
                        <div class="control-half">
                            <label for="positionY" id="positionYLabel">Y Position:</label>
                            <input type="number" id="positionY" value="200" min="0" max="400" step="1">
                        </div>
                    </div>
                    
                    <div class="control-group control-row ellipse-rectangle-only">
                        <div class="control-half">
                            <label for="shapeWidth">Width (w):</label>
                            <input type="number" id="shapeWidth" value="50" min="8" max="500" step="1">
                        </div>
                        <div class="control-half">
                            <label for="shapeHeight">Height (h):</label>
                            <input type="number" id="shapeHeight" value="50" min="8" max="500" step="1">
                        </div>
                    </div>
                    
                    <!-- Color properties (f1,f2) -->
                    <div class="control-group ellipse-rectangle-only line-only">
                        <label for="borderColor">Border Color (f1):</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <select id="borderColor" style="flex: 1; min-width: 0;">
                                <option value="#000000">1: Black</option>
                            </select>
                            <input type="color" id="borderColorPicker" value="#000000" title="Visual color picker" style="width: 40px; height: 30px; flex-shrink: 0;">
                        </div>
                        <small class="help-text">Select a system color or use the color picker for custom RGB values</small>
                    </div>
                    
                    <div class="control-group ellipse-rectangle-only">
                        <label for="fillColor">Fill Color (f2):</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <select id="fillColor" style="flex: 1; min-width: 0;">
                                <option value="#ff0000">7: Red</option>
                            </select>
                            <input type="color" id="fillColorPicker" value="#ff0000" title="Visual color picker" style="width: 40px; height: 30px; flex-shrink: 0;">
                        </div>
                        <small class="help-text">Select a system color or use the color picker for custom RGB values</small>
                    </div>
                    
                    <!-- Style property (s) -->
                    <div class="control-group ellipse-rectangle-only line-only">
                        <label for="borderStyle">Border Style:</label>
                        <select id="borderStyle">
                            <option value="1">Solid</option>
                            <option value="2">Dashed</option>
                            <option value="3">Dotted</option>
                            <option value="4">Dashed and Dotted</option>
                        </select>
                    </div>
                    
                    <!-- Tag and visibility properties -->
                    <div class="control-group ellipse-rectangle-only">
                        <label for="shapeTag">Tag:</label>
                        <input type="text" id="shapeTag" value="" placeholder="Enter tag...">
                    </div>
                    
                    <div class="control-group ellipse-rectangle-only">
                        <label for="shapeVisible">Visible:</label>
                        <button type="button" id="shapeVisible" class="toggle-button" data-value="true">TRUE</button>
                    </div>
                    
                    <!-- Line properties -->
                    <div class="control-group control-row line-only">
                        <div class="control-half">
                            <label for="lineX1">Start X:</label>
                            <input type="number" id="lineX1" value="50" min="0" max="600" step="1">
                        </div>
                        <div class="control-half">
                            <label for="lineY1">Start Y:</label>
                            <input type="number" id="lineY1" value="50" min="0" max="400" step="1">
                        </div>
                    </div>
                    
                    <div class="control-group control-row line-only">
                        <div class="control-half">
                            <label for="lineX2">End X:</label>
                            <input type="number" id="lineX2" value="150" min="0" max="600" step="1">
                        </div>
                        <div class="control-half">
                            <label for="lineY2">End Y:</label>
                            <input type="number" id="lineY2" value="150" min="0" max="400" step="1">
                        </div>
                    </div>
                    
                    <!-- Line tag property -->
                    <div class="control-group line-only">
                        <label for="lineTag">Tag:</label>
                        <input type="text" id="lineTag" value="" placeholder="Enter tag...">
                    </div>
                    
                    <!-- Line visibility property -->
                    <div class="control-group line-only">
                        <label for="lineVisible">Visible:</label>
                        <button type="button" id="lineVisible" class="toggle-button" data-value="true">TRUE</button>
                    </div>
                    
                    <!-- V_SEPARATOR properties -->
                    <div class="control-group v-separator-only">
                        <label for="vSepX">X Position:</label>
                        <input type="number" id="vSepX" value="300" min="0" max="600" step="1">
                    </div>
                    
                    <div class="control-group v-separator-only">
                        <label for="vSepWidth">Line Weight (w):</label>
                        <input type="number" id="vSepWidth" value="2" min="1" max="20" step="1">
                    </div>
                    
                    <div class="control-group v-separator-only">
                        <label for="vSepColor">Color:</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <select id="vSepColor" style="flex: 1; min-width: 0;">
                                <option value="#000000">1: Black</option>
                            </select>
                            <input type="color" id="vSepColorPicker" value="#000000" title="Visual color picker" style="width: 40px; height: 30px; flex-shrink: 0;">
                        </div>
                        <small class="help-text">Select a system color or use the color picker for custom RGB values</small>
                    </div>
                    
                    <div class="control-group v-separator-only">
                        <label for="vSepPen">Pen Style:</label>
                        <select id="vSepPen">
                            <option value="1">Solid</option>
                            <option value="2">Dashed</option>
                            <option value="3">Dotted</option>
                            <option value="4">Dashed and Dotted</option>
                        </select>
                    </div>
                    
                    <!-- V_SEPARATOR tag property -->
                    <div class="control-group v-separator-only">
                        <label for="vSepTag">Tag:</label>
                        <input type="text" id="vSepTag" value="" placeholder="Enter tag...">
                    </div>
                    
                    <!-- V_SEPARATOR visibility property -->
                    <div class="control-group v-separator-only">
                        <label for="vSepVisible">Visible:</label>
                        <button type="button" id="vSepVisible" class="toggle-button" data-value="true">TRUE</button>
                    </div>
                    
                    <!-- H_SEPARATOR properties -->
                    <div class="control-group control-row h-separator-only">
                        <div class="control-half">
                            <label for="hSepY">Y Position:</label>
                            <input type="number" id="hSepY" value="200" min="0" max="400" step="1">
                        </div>
                        <div class="control-half">
                            <label for="hSepHeight">Line Weight (h):</label>
                            <input type="number" id="hSepHeight" value="2" min="1" max="20" step="1">
                        </div>
                    </div>
                    
                    <div class="control-group h-separator-only">
                        <label for="hSepColor">Color:</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <select id="hSepColor" style="flex: 1; min-width: 0;">
                                <option value="#000000">1: Black</option>
                            </select>
                            <input type="color" id="hSepColorPicker" value="#000000" title="Visual color picker" style="width: 40px; height: 30px; flex-shrink: 0;">
                        </div>
                        <small class="help-text">Select a system color or use the color picker for custom RGB values</small>
                    </div>
                    
                    <div class="control-group h-separator-only">
                        <label for="hSepPen">Pen Style:</label>
                        <select id="hSepPen">
                            <option value="1">Solid</option>
                            <option value="2">Dashed</option>
                            <option value="3">Dotted</option>
                            <option value="4">Dashed and Dotted</option>
                        </select>
                    </div>
                    
                    <!-- H_SEPARATOR tag property -->
                    <div class="control-group h-separator-only">
                        <label for="hSepTag">Tag:</label>
                        <input type="text" id="hSepTag" value="" placeholder="Enter tag...">
                    </div>
                    
                    <!-- H_SEPARATOR visibility property -->
                    <div class="control-group h-separator-only">
                        <label for="hSepVisible">Visible:</label>
                        <button type="button" id="hSepVisible" class="toggle-button" data-value="true">TRUE</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load JavaScript modules in dependency order -->
    <!-- Core modules first -->
    <script src="JS/constants.js"></script>
    <script src="JS/systemColors.js"></script>
    <script src="JS/appState.js"></script>
    
    <!-- Utility functions -->
    <script src="JS/utils.js"></script>
    
    <!-- Feature modules -->
    <script src="JS/canvasDrawing.js"></script>
    <script src="JS/shapeOperations.js"></script>
    <script src="JS/storage.js"></script>
    <script src="JS/uiControls.js"></script>
    <script src="JS/undoRedo.js"></script>
    <script src="JS/dragDrop.js"></script>
    <script src="JS/eventHandlers.js"></script>
    <script src="JS/canvasButtons.js"></script>
    
    <!-- Main initialization (must be last) -->
    <script src="JS/main.js"></script>
</body>
</html>